# -----------------------------------------------------------------------
# Copyright (c) 2023 SAP SE or an SAP affiliate company. All rights reserved.
# -----------------------------------------------------------------------

$catalogVersion = catalogVersion(catalog(id[default='powertoolsProductCatalog']),version[default='Staged'])[unique=true,default='powertoolsProductCatalog:Staged']
$snIndexType = powertools-product

### POWERTOOLS ###

INSERT_UPDATE AsSearchProfileActivationSet ; indexType[unique=true] ; $catalogVersion[unique=true]
                                           ; $snIndexType           ;

INSERT_UPDATE AsCategoryAwareSearchProfile ; code[unique=true]    ; name[lang=en]                         ; indexType             ; $catalogVersion[unique=true] ; activationSet(indexType,$catalogVersion) ; activationSetPOS
                                           ; $snIndexType-default ; Default search profile for powertools ; $snIndexType          ;                              ; $snIndexType                             ; 0

INSERT_UPDATE AsCategoryAwareSearchConfiguration ; searchProfile(code,$catalogVersion)[unique=true] ; uid[unique=true]                     ; category(code,$catalogVersion) ; facetsMergeMode(code) ; boostItemsMergeMode(code) ; boostRulesMergeMode(code) ; sortsMergeMode(code) ; $catalogVersion[unique=true]
                                                 ; $snIndexType-default                             ; 1e7517ee-2a9b-4426-b72d-ac519c1008aa ;                                ; ADD_AFTER             ; ADD_AFTER                 ; ADD                       ; ADD_AFTER            ;

INSERT_UPDATE AsFacet ; searchConfiguration(uid,$catalogVersion) ; uid[unique=true]                     ; indexProperty                      ; facetType(code) ; priority ; $catalogVersion[unique=true] ; ranged[default=false] ; searchConfigurationPOS
                      ; 1e7517ee-2a9b-4426-b72d-ac519c1008aa     ; 9f0e1d3a-3fee-11ee-be56-0242ac120002 ; fit                                ; REFINE          ; 100      ;                              ;                       ; 0
                      ; 1e7517ee-2a9b-4426-b72d-ac519c1008aa     ; 9f0e2032-3fee-11ee-be56-0242ac120002 ; categoryName                       ; REFINE          ; 100      ;                              ;                       ; 1
                      ; 1e7517ee-2a9b-4426-b72d-ac519c1008aa     ; 9f0e21b8-3fee-11ee-be56-0242ac120002 ; brandName                          ; REFINE          ; 100      ;                              ;                       ; 2
                      ; 1e7517ee-2a9b-4426-b72d-ac519c1008aa     ; 9f0e2668-3fee-11ee-be56-0242ac120002 ; color                              ; REFINE          ; 100      ;                              ;                       ; 3
                      ; 1e7517ee-2a9b-4426-b72d-ac519c1008aa     ; 9f0e279e-3fee-11ee-be56-0242ac120002 ; size                               ; REFINE          ; 100      ;                              ;                       ; 4
                      ; 1e7517ee-2a9b-4426-b72d-ac519c1008aa     ; 9f0e28ca-3fee-11ee-be56-0242ac120002 ; feature-colour-of-product          ; MULTISELECT     ; 100      ;                              ;                       ; 5

INSERT_UPDATE AsSort ; searchConfiguration(uid,$catalogVersion) ; uid[unique=true]                     ; code       ; name[lang=en]         ; priority ; $catalogVersion[unique=true] ; applyPromotedItems[default=false] ; highlightPromotedItems[default=false] ; searchConfigurationPOS
                     ; 1e7517ee-2a9b-4426-b72d-ac519c1008aa     ; 1b81ad52-7b31-48d1-ac48-4f6d4921a947 ; relevance  ; Relevance             ; 100      ;                              ; true                              ; true                                  ; 0
                     ; 1e7517ee-2a9b-4426-b72d-ac519c1008aa     ; a6fe5b44-408b-47ef-963c-0368137d63e9 ; price-asc  ; Price (lowest first)  ; 100      ;                              ;                                   ; true                                  ; 1
                     ; 1e7517ee-2a9b-4426-b72d-ac519c1008aa     ; 5fa2b34d-80ec-42b3-bd1b-0ea0908cd7c4 ; price-desc ; Price (highest first) ; 100      ;                              ;                                   ; true                                  ; 2

INSERT_UPDATE AsSortExpression ; sortConfiguration(uid,$catalogVersion) ; uid[unique=true]                     ; expression ; order(code) ; $catalogVersion[unique=true] ; sortConfigurationPOS
                               ; 1b81ad52-7b31-48d1-ac48-4f6d4921a947   ; bc0f8ed8-4a09-4f7b-91ec-5086cf653e30 ; _score_    ; DESCENDING  ;                              ; 0
                               ; a6fe5b44-408b-47ef-963c-0368137d63e9   ; 50ac822d-9e4f-4829-9362-262fdcc770dd ; price      ; ASCENDING   ;                              ; 1
                               ; 5fa2b34d-80ec-42b3-bd1b-0ea0908cd7c4   ; b86a970f-8bd9-4590-a237-8fdc63e1498c ; price      ; DESCENDING  ;                              ; 2
